(function(e){if(e.fn.inputmask==undefined){e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,overrideFocus:false,repeat:0,greedy:true,autoUnmask:false,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,showMaskOnHover:true,onKeyValidation:e.noop,numericInput:false,radixPoint:".",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,46,91,93,108]},val:e.fn.val};e.fn.inputmask=function(t,n){function h(e){var t=document.createElement("input"),e="on"+e,n=e in t;if(!n){t.setAttribute(e,"return;");n=typeof t[e]=="function"}t=null;return n}function p(t){var i=r.aliases[t];if(i){if(i.alias)p(i.alias);e.extend(true,r,i);e.extend(true,r,n);return true}return false}function d(){var t=false,n=0;if(r.mask.length==1&&r.greedy==false){r.placeholder=""}var i=e.map(r.mask.split(""),function(e,i){var s=[];if(e==r.escapeChar){t=true}else if(e!=r.optionalmarker.start&&e!=r.optionalmarker.end||t){var o=r.definitions[e];if(o&&!t){for(var u=0;u<o.cardinality;u++){s.push(b(n+u))}}else{s.push(e);t=false}n+=s.length;return s}});var s=i.slice();for(var o=1;o<r.repeat&&r.greedy;o++){s=s.concat(i.slice())}return s}function v(){var t=false,n=false;var i=false;return e.map(r.mask.split(""),function(e,s){var o=[];if(e==r.escapeChar){n=true}else if(e==r.optionalmarker.start&&!n){t=true;i=true}else if(e==r.optionalmarker.end&&!n){t=false;i=true}else{var u=r.definitions[e];if(u&&!n){var a=u["prevalidator"],f=a?a.length:0;for(var l=1;l<u.cardinality;l++){var c=f>=l?a[l-1]:[],h=c["validator"],p=c["cardinality"];o.push({fn:h?typeof h=="string"?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:p?p:1,optionality:t,newBlockMarker:t==true?i:false,offset:0,casing:u["casing"],def:e});if(t==true)i=false}o.push({fn:u.validator?typeof u.validator=="string"?new RegExp(u.validator):new function(){this.test=u.validator}:new RegExp("."),cardinality:u.cardinality,optionality:t,newBlockMarker:i,offset:0,casing:u["casing"],def:e})}else{o.push({fn:null,cardinality:0,optionality:t,newBlockMarker:i,offset:0,casing:null,def:e});n=false}i=false;return o}})}function m(e,t,n,i){var s=false;if(e>=0&&e<w()){var o=y(e),u=t?1:0,a="";for(var f=c[o].cardinality;f>u;f--){a+=T(n,o-(f-1))}if(t){a+=t}s=c[o].fn!=null?c[o].fn.test(a,n,e,i,r):false}setTimeout(r.onKeyValidation.call(this,s,r),0);return s}function g(e){var t=y(e);var n=c[t];return n!=undefined?n.fn:false}function y(e){return e%c.length}function b(e){return r.placeholder.charAt(e%r.placeholder.length)}function w(){var e=l.length;if(!r.greedy&&r.repeat>1){e+=l.length*(r.repeat-1)}return e}function E(e,t){var n=w();if(t>=n)return n;var r=t;while(++r<n&&!g(r)){}return r}function S(e,t){var n=t;if(n<=0)return 0;while(--n>0&&!g(n)){}return n}function x(e,t,n){var r=c[y(t)];var i=n;if(i!=undefined){switch(r.casing){case"upper":i=n.toUpperCase();break;case"lower":i=n.toLowerCase();break}}e[t]=i}function T(e,t,n){if(n)t=N(e,t);return e[t]}function N(e,t,n){var r;if(n){while(t<0&&e.length<w()){r=l.length-1;t=l.length;while(l[r]!==undefined){e.unshift(l[r--])}}}else{while(e[t]==undefined&&e.length<w()){r=0;while(l[r]!==undefined){e.push(l[r++])}}}return t}function C(e,t,n){e._valueSet(t.join(""));if(n!=undefined){if(o){setTimeout(function(){P(e,n)},100)}else P(e,n)}}function k(e,t,n){for(var r=t,i=w();r<n&&r<i;r++){x(e,r,T(l.slice(),r))}}function L(e,t){var n=y(t);x(e,t,T(l,n))}function A(t,n,i,s){var o=e(t).data("inputmask")["isRTL"],u=M(t._valueGet(),o).split("");if(o){var a=w();var f=u.reverse();f.length=a;for(var h=0;h<a;h++){var p=y(a-(h+1));if(c[p].fn==null&&f[h]!=T(l,p)){f.splice(h,0,T(l,p));f.length=a}else{f[h]=f[h]||T(l,p)}}u=f.reverse()}k(n,0,n.length);n.length=l.length;var d=-1,v=-1,S,a=w(),N=u.length,A=N==0?a:-1;for(var h=0;h<N;h++){for(var O=v+1;O<a;O++){if(g(O)){var _=u[h];if((S=m(O,_,n,!i))!==false){if(S!==true){O=S.pos||O;_=S.c||_}x(n,O,_);d=v=O}else{L(n,O);if(_==b(O)){v=O;A=O}}break}else{L(n,O);if(d==v)d=O;v=O;if(u[h]==T(n,O))break}}}if(r.greedy==false){var D=M(n.join(""),o).split("");while(n.length!=D.length){o?n.shift():n.pop()}}if(i){C(t,n)}return o?r.numericInput?e.inArray(r.radixPoint,n)!=-1&&s!==true?e.inArray(r.radixPoint,n):E(n,a):E(n,A):E(n,d)}function O(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")}function M(e,t){return t?e.replace(new RegExp("^("+O(l.join(""))+")*"),""):e.replace(new RegExp("("+O(l.join(""))+")*$"),"")}function _(t,n){A(t,n,false);var r=n.slice();if(e(t).data("inputmask")["isRTL"]){for(var i=0;i<=r.length-1;i++){var s=y(i);if(c[s].optionality){if(b(i)==n[i]||!g(i))r.splice(0,1);else break}else break}}else{for(var i=r.length-1;i>=0;i--){var s=y(i);if(c[s].optionality){if(b(i)==n[i]||!g(i))r.pop();else break}else break}}C(t,r)}function D(t,n){var r=t[0];if(c&&(n===true||!t.hasClass("hasDatepicker"))){var i=l.slice();A(r,i);return e.map(i,function(e,t){return g(t)&&e!=T(l.slice(),t)?e:null}).join("")}else{return r._valueGet()}}function P(e,t,n){var i=e.jquery&&e.length>0?e[0]:e;if(typeof t=="number"){n=typeof n=="number"?n:t;if(r.insertMode==false&&t==n)n++;if(i.setSelectionRange){i.setSelectionRange(t,n)}else if(i.createTextRange){var s=i.createTextRange();s.collapse(true);s.moveEnd("character",n);s.moveStart("character",t);s.select()}i.focus();if(o&&n!=i.selectionEnd)a={begin:t,end:n}}else{var u=o?a:null,a=null;if(u==null){if(i.setSelectionRange){t=i.selectionStart;n=i.selectionEnd}else if(document.selection&&document.selection.createRange){var s=document.selection.createRange();t=0-s.duplicate().moveStart("character",-1e5);n=t+s.text.length}u={begin:t,end:n}}return u}}function H(t){function F(e){var t=true,n=e._valueGet(),r=n.length;for(var i=0;i<r;i++){if(g(i)&&n.charAt(i)==b(i)){t=false;break}}return t}function I(t){var n=e._data(t).events;e.each(n,function(n,r){e(t).bind(n+".inputmask",function(e){if(this.readOnly||this.disabled){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();return false}});var i=r[r.length-1];for(var s=r.length-1;s>0;s--){r[s]=r[s-1]}r[0]=i})}function q(t){var n;if(Object.getOwnPropertyDescriptor)n=Object.getOwnPropertyDescriptor(t,"value");if(n&&n.get){if(!t._valueGet){t._valueGet=n.get;t._valueSet=n.set;Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("inputmask");return n&&n["autoUnmask"]?t.inputmask("unmaskedvalue"):this._valueGet()!=n["_buffer"].join("")?this._valueGet():""},set:function(t){this._valueSet(t);e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){t._valueGet=t.__lookupGetter__("value");t._valueSet=t.__lookupSetter__("value");t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("inputmask");return n&&n["autoUnmask"]?t.inputmask("unmaskedvalue"):this._valueGet()!=n["_buffer"].join("")?this._valueGet():""});t.__defineSetter__("value",function(t){this._valueSet(t);e(this).triggerHandler("setvalue.inputmask")})}}else{if(!t._valueGet){t._valueGet=function(){return this.value};t._valueSet=function(e){this.value=e}}if(e.fn.val.inputmaskpatch!=true){e.fn.val=function(){if(arguments.length==0){var t=e(this);if(t.data("inputmask")){if(t.data("inputmask")["autoUnmask"])return t.inputmask("unmaskedvalue");else{var n=e.inputmask.val.apply(t);return n!=t.data("inputmask")["_buffer"].join("")?n:""}}else return e.inputmask.val.apply(t)}else{var r=arguments;return this.each(function(){var t=e(this);var n=e.inputmask.val.apply(t,r);if(t.data("inputmask"))t.triggerHandler("setvalue.inputmask");return n})}};e.extend(e.fn.val,{inputmaskpatch:true})}}}function R(e,t,n){while(!g(e)&&e-1>=0)e--;for(var r=e;r<t&&r<w();r++){if(g(r)){L(a,r);var i=E(a,r);var s=T(a,i);if(s!=b(i)){if(i<w()&&m(r,s,a,true)!==false&&c[y(r)].def==c[y(i)].def){x(a,r,T(a,i));L(a,i)}else{if(g(r))break}}else if(n==undefined)break}else{L(a,r)}}if(n!=undefined)x(a,D?t:S(a,t),n);a=M(a.join(""),D).split("");if(a.length==0)a=l.slice();return e}function U(e,t,n,r){for(var i=e;i<=t&&i<w();i++){if(g(i)){var s=T(a,i);x(a,i,n);if(s!=b(i)){var o=E(a,i);if(o<w()){if(m(o,s,a,true)!==false&&c[y(i)].def==c[y(o)].def)n=s;else{if(g(o))break;else n=s}}else break}else if(r!==true)break}else L(a,i)}var u=a.length;a=M(a.join(""),D).split("");if(a.length==0)a=l.slice();return t-(u-a.length)}function z(t){h=false;var n=this,i=t.keyCode,o=P(n);if(r.numericInput){var u=n._valueGet();var c=u.indexOf(r.radixPoint);if(c!=-1){D=o.begin<=c||o.end<=c}}if(i==r.keyCode.BACKSPACE||i==r.keyCode.DELETE||s&&i==127){var d=w();if(o.begin==0&&o.end==d){a=l.slice();C(n,a);P(n,A(n,a,false))}else if(o.end-o.begin>1||o.end-o.begin==1&&r.insertMode){k(a,o.begin,o.end);C(n,a,D?A(n,a,false):o.begin)}else{var m=o.begin-(i==r.keyCode.DELETE?0:1);if(m<v&&i==r.keyCode.DELETE){m=v}if(m>=v){if(r.numericInput&&r.greedy&&i==r.keyCode.DELETE&&a[m]==r.radixPoint){m=E(a,m);D=false}if(D){m=U(v,m,b(m),true);m=r.numericInput&&r.greedy&&i==r.keyCode.BACKSPACE&&a[m+1]==r.radixPoint?m+1:E(a,m)}else m=R(m,d);C(n,a,m)}}if(n._valueGet()==l.join(""))e(n).trigger("cleared");return false}else if(i==r.keyCode.END||i==r.keyCode.PAGE_DOWN){setTimeout(function(){var e=A(n,a,false,true);if(!r.insertMode&&e==w()&&!t.shiftKey)e--;P(n,t.shiftKey?o.begin:e,e)},0);return false}else if(i==r.keyCode.HOME||i==r.keyCode.PAGE_UP){P(n,0,t.shiftKey?o.begin:0);return false}else if(i==r.keyCode.ESCAPE){n._valueSet(f);P(n,0,A(n,a));return false}else if(i==r.keyCode.INSERT){r.insertMode=!r.insertMode;P(n,!r.insertMode&&o.begin==w()?o.begin-1:o.begin);return false}else if(t.ctrlKey&&i==88){setTimeout(function(){P(n,A(n,a,true))},0)}else if(!r.insertMode){if(i==r.keyCode.RIGHT){var g=o.begin==o.end?o.end+1:o.end;g=g<w()?g:o.end;P(n,t.shiftKey?o.begin:g,t.shiftKey?g+1:g);return false}else if(i==r.keyCode.LEFT){var g=o.begin-1;g=g>0?g:0;P(n,g,t.shiftKey?o.end:g);return false}}r.onKeyDown.call(this,t,r);p=e.inArray(i,r.ignorables)!=-1}function W(t){if(h)return false;h=true;var n=this,i=e(n);t=t||window.event;var s=t.which||t.charCode||t.keyCode;if(r.numericInput&&s==r.radixPoint.charCodeAt(r.radixPoint.length-1)){var u=n._valueGet();var f=u.indexOf(r.radixPoint);P(n,E(a,f!=-1?f:w()))}if(t.ctrlKey||t.altKey||t.metaKey||p){return true}else{if(s){i.trigger("input");var l=P(n),c=String.fromCharCode(s),d=w();k(a,l.begin,l.end);if(D){var g=r.numericInput?l.end:S(a,l.end),y;if((y=m(g==d||T(a,g)==r.radixPoint?S(a,g):g,c,a,false))!==false){if(y!==true){g=y.pos||l;c=y.c||c}var L=v;if(r.insertMode==true){if(r.greedy==true){var A=a.slice();while(T(A,L,true)!=b(L)&&L<=g){L=L==d?d+1:E(a,L)}}if(L<=g&&(r.greedy||a.length<d)){if(a[v]!=b(v)&&a.length<d){var O=N(a,-1,D);if(l.end!=0)g=g+O;d=a.length}R(L,r.numericInput?S(a,g):g,c)}else return false}else x(a,r.numericInput?S(a,g):g,c);C(n,a,r.numericInput&&g==0?E(a,g):g);setTimeout(function(){if(F(n))i.trigger("complete")},0)}else if(o)C(n,a,l.begin)}else{var g=E(a,l.begin-1),y;N(a,g,D);if((y=m(g,c,a,false))!==false){if(y!==true){g=y.pos||g;c=y.c||c}if(r.insertMode==true){var M=w();var A=a.slice();while(T(A,M,true)!=b(M)&&M>=g){M=M==0?-1:S(a,M)}if(M>=g)U(g,a.length,c);else return false}else x(a,g,c);var _=E(a,g);C(n,a,_);setTimeout(function(){if(F(n))i.trigger("complete")},0)}else if(o)C(n,a,l.begin)}return false}}}function X(t){var n=e(this),i=this;var s=t.keyCode;r.onKeyUp.call(this,t,r);if(s==r.keyCode.TAB&&n.hasClass("focus.inputmask")&&i._valueGet().length==0){a=l.slice();C(i,a);if(!D)P(i,0);f=i._valueGet()}}var n=e(t);if(!n.is(":input"))return;r.greedy=r.greedy?r.greedy:r.repeat==0;var u=n.prop("maxLength");if(w()>u&&u>-1){if(u<l.length)l.length=u;if(r.greedy==false){r.repeat=Math.round(u/l.length)}}n.prop("maxLength",w()*2);n.data("inputmask",{tests:c,_buffer:l,greedy:r.greedy,repeat:r.repeat,autoUnmask:r.autoUnmask,definitions:r.definitions,isRTL:false});q(t);var a=l.slice(),f=t._valueGet(),h=false,p=false,d=-1,v=E(a,-1),O=S(a,w()),D=false;if(t.dir=="rtl"||r.numericInput){t.dir="ltr";n.css("text-align","right");n.removeAttr("dir");var H=n.data("inputmask");H["isRTL"]=true;n.data("inputmask",H);D=true}n.unbind(".inputmask");n.removeClass("focus.inputmask");n.bind("mouseenter.inputmask",function(){var t=e(this),n=this;if(!t.hasClass("focus.inputmask")&&r.showMaskOnHover){var i=n._valueGet().length;if(i<a.length){if(i==0)a=l.slice();C(n,a)}}}).bind("blur.inputmask",function(){var t=e(this),n=this,i=n._valueGet();t.removeClass("focus.inputmask");if(i!=f){t.change()}if(r.clearMaskOnLostFocus){if(i==l.join(""))n._valueSet("");else{_(n,a)}}if(!F(n)){t.trigger("incomplete");if(r.clearIncomplete){if(r.clearMaskOnLostFocus)n._valueSet("");else{a=l.slice();C(n,a)}}}}).bind("focus.inputmask",function(){var t=e(this),n=this;if(!r.overrideFocus){if(!t.hasClass("focus.inputmask")&&!r.showMaskOnHover){var i=n._valueGet().length;if(i<a.length){if(i==0)a=l.slice();P(n,A(n,a,true))}}}t.addClass("focus.inputmask");f=n._valueGet()}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;if(r.clearMaskOnLostFocus){if(!t.hasClass("focus.inputmask")){if(n._valueGet()==l.join("")||n._valueGet()=="")n._valueSet("");else{_(n,a)}}}}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var t=P(e);if(t.begin==t.end){var n=t.begin;d=A(e,a,false);if(D)P(e,n>d&&(m(n,a[n],a,true)!==false||!g(n))?n:d);else P(e,n<d&&(m(n,a[n],a,true)!==false||!g(n))?n:d)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){P(e,0,d)},0)}).bind("keydown.inputmask",z).bind("keypress.inputmask",W).bind("keyup.inputmask",X).bind(i+".inputmask, dragdrop.inputmask, drop.inputmask",function(){var e=this;setTimeout(function(){P(e,A(e,a,true))},0)}).bind("setvalue.inputmask",function(){var e=this;f=e._valueGet();A(e,a,true);if(e._valueGet()==l.join(""))e._valueSet("")}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared);d=A(t,a,true);var B;try{B=document.activeElement}catch(j){}if(B===t){n.addClass("focus.inputmask");P(t,d)}else if(r.clearMaskOnLostFocus){if(t._valueGet()==l.join("")){t._valueSet("")}else{_(t,a)}}I(t);}var r=e.extend(true,{},e.inputmask.defaults,n);var i=h("paste")?"paste":"input";var s=navigator.userAgent.match(/iphone/i)!=null;var o=navigator.userAgent.match(/android.*mobile safari.*/i)!=null;if(o){var u=navigator.userAgent.match(/mobile safari.*/i);var a=parseInt((new RegExp(/[0-9]+/)).exec(u));o=a<=533}var f=null;if(typeof t=="string"){switch(t){case"mask":var l=d();var c=v();return this.each(function(){H(this)});break;case"unmaskedvalue":var c=this.data("inputmask")["tests"];var l=this.data("inputmask")["_buffer"];r.greedy=this.data("inputmask")["greedy"];r.repeat=this.data("inputmask")["repeat"];r.definitions=this.data("inputmask")["definitions"];return D(this);break;case"remove":var c,l;return this.each(function(){var t=e(this),n=this;setTimeout(function(){if(t.data("inputmask")){c=t.data("inputmask")["tests"];l=t.data("inputmask")["_buffer"];r.greedy=t.data("inputmask")["greedy"];r.repeat=t.data("inputmask")["repeat"];r.definitions=t.data("inputmask")["definitions"];n._valueSet(D(t,true));t.removeData("inputmask");t.unbind(".inputmask");t.removeClass("focus.inputmask");var e;if(Object.getOwnPropertyDescriptor)e=Object.getOwnPropertyDescriptor(n,"value");if(e&&e.get){if(n._valueGet){Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet})}}else if(document.__lookupGetter__&&n.__lookupGetter__("value")){if(n._valueGet){n.__defineGetter__("value",n._valueGet);n.__defineSetter__("value",n._valueSet)}}delete n._valueGet;delete n._valueSet}},0)});break;case"getemptymask":if(this.data("inputmask"))return this.data("inputmask")["_buffer"].join("");else return"";case"hasMaskedValue":return this.data("inputmask")?!this.data("inputmask")["autoUnmask"]:false;default:if(!p(t)){r.mask=t}var l=d();var c=v();return this.each(function(){H(this)});break}}if(typeof t=="object"){r=e.extend(true,{},e.inputmask.defaults,t);p(r.alias);var l=d();var c=v();return this.each(function(){H(this)})}return this}}})(jQuery);(function(e){e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return false;var r=parseInt(e.concat(t.toString().slice(e.length)));var i=parseInt(e.concat(n.toString().slice(e.length)));return(!isNaN(r)?t<=r&&r<=n:false)||(!isNaN(i)?t<=i&&i<=n:false)},determinebaseyear:function(e,t,n){var r=(new Date).getFullYear();if(e>r)return e;if(t<r){var i=t.toString().slice(0,2);var s=t.toString().slice(2,4);while(t<i+n){i--}var o=i+s;return e>o?e:o}return r},onKeyUp:function(t,n,r,i){var s=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;s.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString())}},definitions:{1:{validator:function(e,t,n,r,i){var s=i.regex.val1.test(e);if(!r&&!s){if(e.charAt(1)==i.separator||"-./".indexOf(e.charAt(1))!=-1){s=i.regex.val1.test("0"+e.charAt(0));if(s){t.buffer[n-1]="0";return{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)}}}}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){if(!isNaN(t.buffer[n+1]))e+=t.buffer[n+1];var s=e.length==1?i.regex.val1pre.test(e):i.regex.val1.test(e);if(!r&&!s){s=i.regex.val1.test("0"+e);if(s){t.buffer[n]="0";n++;return{pos:n}}}return s},cardinality:1}]},2:{validator:function(e,t,n,r,i){var s=i.mask.indexOf("2")==i.mask.length-1?t.buffer.join("").substr(5,3):t.buffer.join("").substr(0,3);if(s.indexOf(i.placeholder[0])!=-1)s="01"+i.separator;var o=i.regex.val2(i.separator).test(s+e);if(!r&&!o){if(e.charAt(1)==i.separator||"-./".indexOf(e.charAt(1))!=-1){o=i.regex.val2(i.separator).test(s+"0"+e.charAt(0));if(o){t.buffer[n-1]="0";return{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)}}}}if(i.mask.indexOf("2")==i.mask.length-1&&o){var u=t.buffer.join("").substr(4,4)+e;if(u!=i.leapday)return true;else{var a=parseInt(t.buffer.join("").substr(0,4),10);if(a%4===0)if(a%100===0)if(a%400===0)return true;else return false;else return true;else return false}}return o},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){if(!isNaN(t.buffer[n+1]))e+=t.buffer[n+1];var s=i.mask.indexOf("2")==i.mask.length-1?t.buffer.join("").substr(5,3):t.buffer.join("").substr(0,3);if(s.indexOf(i.placeholder[0])!=-1)s="01"+i.separator;var o=e.length==1?i.regex.val2pre(i.separator).test(s+e):i.regex.val2(i.separator).test(s+e);if(!r&&!o){o=i.regex.val2(i.separator).test(s+"0"+e);if(o){t.buffer[n]="0";n++;return{pos:n}}}return o},cardinality:1}]},y:{validator:function(e,t,n,r,i){if(i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear)){var s=t.buffer.join("").substr(0,6);if(s!=i.leapday)return true;else{var o=parseInt(e,10);if(o%4===0)if(o%100===0)if(o%400===0)return true;else return false;else return true;else return false}}else return false},cardinality:4,prevalidator:[{validator:function(e,t,n,r,i){var s=i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear);if(!r&&!s){var o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e+"0").toString().slice(0,1);s=i.isInYearRange(o+e,i.yearrange.minyear,i.yearrange.maxyear);if(s){t.buffer[n++]=o.charAt(0);return{pos:n}}o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e+"0").toString().slice(0,2);s=i.isInYearRange(o+e,i.yearrange.minyear,i.yearrange.maxyear);if(s){t.buffer[n++]=o.charAt(0);t.buffer[n++]=o.charAt(1);return{pos:n}}}return s},cardinality:1},{validator:function(e,t,n,r,i){var s=i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear);if(!r&&!s){var o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e).toString().slice(0,2);s=i.isInYearRange(e[0]+o[1]+e[1],i.yearrange.minyear,i.yearrange.maxyear);if(s){t.buffer[n++]=o.charAt(1);return{pos:n}}o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e).toString().slice(0,2);if(i.isInYearRange(o+e,i.yearrange.minyear,i.yearrange.maxyear)){var u=t.buffer.join("").substr(0,6);if(u!=i.leapday)s=true;else{var a=parseInt(e,10);if(a%4===0)if(a%100===0)if(a%400===0)s=true;else s=false;else s=true;else s=false}}else s=false;if(s){t.buffer[n-1]=o.charAt(0);t.buffer[n++]=o.charAt(1);t.buffer[n++]=e.charAt(0);return{refreshFromBuffer:{start:n-3,end:n},pos:n}}}return s},cardinality:2},{validator:function(e,t,n,r,i){return i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear)},cardinality:3}]}},insertMode:false,autoUnmask:false},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(t,n,r,i){var s=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;s.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,n,r,i){var s=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;s.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString())}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,r,i){if(i.hourFormat=="24"){if(parseInt(e,10)==24){t.buffer[n-1]="0";t.buffer[n]="0";return{refreshFromBuffer:{start:n-1,end:n},c:"0"}}}var s=i.regex.hrs.test(e);if(!r&&!s){if(e.charAt(1)==i.timeseparator||"-.:".indexOf(e.charAt(1))!=-1){s=i.regex.hrs.test("0"+e.charAt(0));if(s){t.buffer[n-1]="0";t.buffer[n]=e.charAt(0);n++;return{refreshFromBuffer:{start:n-2,end:n},pos:n,c:i.timeseparator}}}}if(s&&i.hourFormat!=="24"&&i.regex.hrs24.test(e)){var o=parseInt(e,10);if(o==24){t.buffer[n+5]="a";t.buffer[n+6]="m"}else{t.buffer[n+5]="p";t.buffer[n+6]="m"}o=o-12;if(o<10){t.buffer[n]=o.toString();t.buffer[n-1]="0"}else{t.buffer[n]=o.toString().charAt(1);t.buffer[n-1]=o.toString().charAt(0)}return{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){var s=i.regex.hrspre.test(e);if(!r&&!s){s=i.regex.hrs.test("0"+e);if(s){t.buffer[n]="0";n++;return{pos:n}}}return s},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){var s=i.regex.mspre.test(e);if(!r&&!s){s=i.regex.ms.test("0"+e);if(s){t.buffer[n]="0";n++;return{pos:n}}}return s},cardinality:1}]},t:{validator:function(e,t,n,r,i){return i.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:false,autoUnmask:false},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:false},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:false},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}});return e.fn.inputmask})(jQuery);(function(e){"use strict";e.fn.paymentInfo=function(t){var n,r,i,s,o,u="paymentInfo";i=e.map(["change","blur","keyup","keypress","keydown"],function(e){return e+"."+u}).join(" ");s={visa:/^4/,mc:/^5[1-5]/,amex:/^3(4|7)/,disc:/^6011/};r={getCreditCardType:function(t){var n;e.each(s,function(e,r){if(r.test(t)){n=e;return false}});return n},matchNumbers:function(t){var n=t.data("ccNumber")||t.val(),i=r.getCreditCardType(n);if(t.val()!==""){if(i!==""){e("."+o.cardImageClass).addClass(i)}else{e("."+o.cardImageClass).removeClass().addClass(o.cardImageClass)}}else{e("."+o.cardImageClass).removeClass().addClass(o.cardImageClass).data("ccNumber","")}if(i==="amex"){t.inputmask({mask:"9999 999999 99999",oncomplete:r.creditCardComplete});e("."+o.cardCvvClass).inputmask({mask:"9999",oncomplete:r.cvvComplete})}else{t.inputmask({mask:"9999 9999 9999 9999",oncomplete:r.creditCardComplete});e("."+o.cardCvvClass).inputmask({mask:"999",oncomplete:r.cvvComplete})}if(t.val()===""){e("."+o.fieldsetClass).find("input:gt(0)").val("")}if(i!==undefined){e(t).parents("."+o.fieldsetClass).removeClass("invalid shake");e("."+o.cardInstructionClass).removeClass("invalid")}},creditCardComplete:function(){var t=e("."+o.cardNumberClass),n=t.inputmask("unmaskedvalue"),i=r.getCreditCardType(n);if(i===undefined){e(t).parents("."+o.fieldsetClass).addClass("invalid shake");e("."+o.cardInstructionClass).addClass("invalid");r.updateInstruction(o.messageCardNumberError);return}t.bind("saveValues",function(){if(i==="amex"&&n.length===15||i!=="amex"&&n.length===16){t.data("ccNumber",n)}});setTimeout(function(){if(!Modernizr.touch){t.bind("blur",function(){t.trigger("saveValues")}).blur()}else{t.trigger("saveValues").blur(function(){t.trigger("saveValues")})}},o.animationWait);setTimeout(function(){e("."+o.fieldsetClass).find("input:gt(0)").removeClass("hide")},o.animationWait);e(t).unbind("blur focus click keydown keypress").bind("focus click keydown",function(n){if(n.type==="focus"||n.type==="click"||n.shiftKey&&n.keyCode===9){r.beginCreditCard(e(t));r.updateInstruction(o.messageEnterCardNumber)}});if(window.navigator.standalone||!Modernizr.touch){e("."+o.cardExpirationClass).focus().val(e.trim(e("."+o.cardExpirationClass).val()));r.updateInstruction(o.messageExpiration)}},expirationComplete:function(){e("."+o.cardImageClass).addClass("cvv2");e("."+o.cardExpirationClass).addClass("parsley-success").unbind("keydown blur").bind("keydown",function(t){if(t.keyCode===8&&e(this).val()===""){if(window.navigator.standalone||!Modernizr.touch){e("."+o.cardNumberClass).focus();r.updateInstruction(o.messageEnterCardNumber)}}});if(window.navigator.standalone||!Modernizr.touch){setTimeout(function(){e("."+o.cardCvvClass).focus();r.updateInstruction(o.messageCVV)},220)}r.updateInstruction(o.messageCVV)},cvvComplete:function(){e("."+o.cardImageClass).removeClass("cvv2");e("."+o.cardCvvClass).addClass("full").unbind("keydown blur").bind("keydown",function(t){if(t.keyCode===8||t.keyCode===9){if(e(this).val()===""){e(this).removeClass("full");if(window.navigator.standalone||!Modernizr.touch){r.updateInstruction(o.messageExpiration)}}e("."+o.cardImageClass).removeClass("cvv2")}});e("."+o.fieldsetClass).addClass("valid");e("."+o.cardInstructionClass).addClass("valid");r.updateInstruction(o.messageSuccess);e(".donate-submit").focus()},beginCreditCard:function(t){e(t).val(e(t).data("ccNumber")).addClass("transitioning-in");setTimeout(function(){t.removeClass("transitioning-in full")},150);e(t).unbind("keypress blur").bind("keypress blur",function(n){if(n.keyCode===13||n.type==="blur"){var i=e(t).inputmask("unmaskedvalue"),s=r.getCreditCardType(i);if(s==="amex"&&i.length===15||s!=="amex"&&i.length===16){r.creditCardComplete()}}}).unbind("focus click keydown");e("."+o.fieldsetClass).find("input:gt(0)")},updateInstruction:function(t){e(".card-instruction").html(t)}};n={init:function(t){o=e.extend({},e.fn.paymentInfo.defaults,t);e.extend(e.inputmask.defaults,{placeholder:" ",showMaskOnHover:false,overrideFocus:true});return this.each(function(){e(this).find("label").end().find("."+o.cardNumberClass).inputmask({mask:"9999 9999 9999 9999"}).before("<span class='"+o.cardImageClass+"'></span>").end().find("."+o.cardExpirationClass).inputmask({mask:"m/y",oncomplete:r.expirationComplete}).end().find("."+o.cardCvvClass).inputmask({mask:"999"}).focus(function(){e("."+o.cardImageClass).addClass("cvv2")}).blur(function(){e("."+o.cardImageClass).removeClass("cvv2")}).end();if(o.cardInstruction){e(this).after("<span class='"+o.cardInstructionClass+"'>"+o.messageEnterCardNumber+"</span>")}r.matchNumbers(e(this).find("."+o.cardNumberClass).eq(0))}).unbind("."+u).bind(i,function(){r.matchNumbers(e(this).find("."+o.cardNumberClass).eq(0))})},destroy:function(){return this.unbind("."+u)}};if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof t==="object"||!t){return n.init.apply(this,arguments)}return e.error("Method does not exist in plugin")};e.fn.paymentInfo.defaults={fieldsetClass:"credit-card-group",cardImageClass:"card-image",cardCvvClass:"card-cvv",cardExpirationClass:"card-expiration",cardNumberClass:"card-number",cardInstruction:true,cardInstructionClass:"card-instruction",animationWait:600,focusDelay:200,messageEnterCardNumber:"Please enter your credit card number",messageCardNumberError:"Please enter a valid credit card number",messageExpiration:"Please enter your card's expiration month and year",messageExpirationError:"Please enter a valid month and year",messageCVV:"Please enter the three-digit CVV number found on the back of your card",messageCVVAmEx:"Please enter your four-digit CVV number on the front of your card",messageSuccess:"Hooray! You've successfully filled out your credit card information."}})(jQuery);$(".credit-card-group").paymentInfo();(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0];var i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";var s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+i+"</style>";r.appendChild(s.childNodes[1])}if(t){e.extend(n,t)}return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(n.customSelector){t.push(n.customSelector)}var r=".fitvidsignore";if(n.ignore){r=r+", "+n.ignore}var i=e(this).find(t.join(","));i=i.not("object object");i=i.not(r);i.each(function(){var t=e(this);if(t.parents(r).length>0){return}if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length){return}if(!t.css("height")&&!t.css("width")&&(isNaN(t.attr("height"))||isNaN(t.attr("width")))){t.attr("height",9);t.attr("width",16)}var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=!isNaN(parseInt(t.attr("width"),10))?parseInt(t.attr("width"),10):t.width(),s=n/i;if(!t.attr("id")){var o="fitvid"+Math.floor(Math.random()*999999);t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",s*100+"%");t.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);!function(e){var t={attr:function(e,t,n){var r,i={},s=new RegExp("^"+t,"i");if("undefined"===typeof e||"undefined"===typeof e[0])return{};for(var o in e[0].attributes){r=e[0].attributes[o];if("undefined"!==typeof r&&null!==r&&r.specified&&s.test(r.name)){if("undefined"!==typeof n&&(new RegExp(n+"$","i")).test(r.name))return true;i[this.camelize(r.name.replace(t,""))]=this.deserializeValue(r.value)}}return"undefined"===typeof n?i:false},setAttr:function(e,t,n,r){e[0].setAttribute(this.dasherize(t+n),String(r))},get:function(e,t){var n=0,r=(t||"").split(".");while(this.isObject(e)||this.isArray(e)){e=e[r[n++]];if(n===r.length)return e}return undefined},hash:function(e){return String(Math.random()).substring(2,e?e+2:9)},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},isObject:function(e){return e===Object(e)},deserializeValue:function(t){var n;try{return t?t=="true"||(t=="false"?false:t=="null"?null:!isNaN(n=Number(t))?n:/^[\[\{]/.test(t)?e.parseJSON(t):t):t}catch(r){return t}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}};var n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:true,uiEnabled:true,validationThreshold:3,focus:"first",trigger:false,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(e){},errorsContainer:function(e){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"};var r=function(){};r.prototype={asyncSupport:false,actualizeOptions:function(){this.options=this.parsleyInstance.OptionsFactory.get(this);return this},validateThroughValidator:function(e,t,n){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[e,t,n])},subscribe:function(t,n){e.listenTo(this,t.toLowerCase(),n);return this},unsubscribe:function(t){e.unsubscribeTo(this,t.toLowerCase());return this},reset:function(){if("ParsleyForm"!==this.__class__)return e.emit("parsley:field:reset",this);for(var t=0;t<this.fields.length;t++)e.emit("parsley:field:reset",this.fields[t]);e.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__){e.emit("parsley:field:destroy",this);this.$element.removeData("Parsley");return}for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();e.emit("parsley:form:destroy",this);this.$element.removeData("Parsley")}};(function(e){var t=function(e){this.__class__="Validator";this.__version__="0.5.5";this.options=e||{};this.bindingKey=this.options.bindingKey||"_validatorjsConstraint";return this};t.prototype={constructor:t,validate:function(e,t,n){if("string"!==typeof e&&"object"!==typeof e)throw new Error("You must validate an object or a string");if("string"===typeof e||o(e))return this._validateString(e,t,n);if(this.isBinded(e))return this._validateBindedObject(e,t);return this._validateObject(e,t,n)},bind:function(e,t){if("object"!==typeof e)throw new Error("Must bind a Constraint to an object");e[this.bindingKey]=new n(t);return this},unbind:function(e){if("undefined"===typeof e._validatorjsConstraint)return this;delete e[this.bindingKey];return this},isBinded:function(e){return"undefined"!==typeof e[this.bindingKey]},getBinded:function(e){return this.isBinded(e)?e[this.bindingKey]:null},_validateString:function(e,t,n){var s,u=[];if(!o(t))t=[t];for(var a=0;a<t.length;a++){if(!(t[a]instanceof i))throw new Error("You must give an Assert or an Asserts array to validate a string");s=t[a].check(e,n);if(s instanceof r)u.push(s)}return u.length?u:true},_validateObject:function(e,t,r){if("object"!==typeof t)throw new Error("You must give a constraint to validate an object");if(t instanceof n)return t.check(e,r);return(new n(t)).check(e,r)},_validateBindedObject:function(e,t){return e[this.bindingKey].check(e,t)}};t.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var n=function(e,t){this.__class__="Constraint";this.options=t||{};this.nodes={};if(e){try{this._bootstrap(e)}catch(n){throw new Error("Should give a valid mapping object to Constraint",n,e)}}return this};n.prototype={constructor:n,check:function(e,t){var n,r={};for(var u in this.options.strict?this.nodes:e){if(this.options.strict?this.has(u,e):this.has(u)){n=this._check(u,e[u],t);if(o(n)&&n.length>0||!o(n)&&!s(n))r[u]=n}else if(this.options.strict){try{(new i).HaveProperty(u).validate(e)}catch(a){r[u]=a}}}return s(r)?true:r},add:function(e,t){if(t instanceof i||o(t)&&t[0]instanceof i){this.nodes[e]=t;return this}if("object"===typeof t&&!o(t)){this.nodes[e]=t instanceof n?t:new n(t);return this}throw new Error("Should give an Assert, an Asserts array, a Constraint",t)},has:function(e,t){var t="undefined"!==typeof t?t:this.nodes;return"undefined"!==typeof t[e]},get:function(e,t){return this.has(e)?this.nodes[e]:t||null},remove:function(e){var t=[];for(var n in this.nodes)if(n!==e)t[n]=this.nodes[n];this.nodes=t;return this},_bootstrap:function(e){if(e instanceof n)return this.nodes=e.nodes;for(var t in e)this.add(t,e[t])},_check:function(e,t,r){if(this.nodes[e]instanceof i)return this._checkAsserts(t,[this.nodes[e]],r);if(o(this.nodes[e]))return this._checkAsserts(t,this.nodes[e],r);if(this.nodes[e]instanceof n)return this.nodes[e].check(t,r);throw new Error("Invalid node",this.nodes[e])},_checkAsserts:function(e,t,n){var r,i=[];for(var s=0;s<t.length;s++){r=t[s].check(e,n);if("undefined"!==typeof r&&true!==r)i.push(r)}return i}};var r=function(e,t,n){this.__class__="Violation";if(!(e instanceof i))throw new Error("Should give an assertion implementing the Assert interface");this.assert=e;this.value=t;if("undefined"!==typeof n)this.violation=n};r.prototype={show:function(){var e={assert:this.assert.__class__,value:this.value};if(this.violation)e.violation=this.violation;return e},__toString:function(){if("undefined"!==typeof this.violation)var e='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected;return this.assert.__class__+' assert failed for "'+this.value+e||""},getViolation:function(){var e,t;for(e in this.violation)t=this.violation[e];return{constraint:e,expected:t}}};var i=function(e){this.__class__="Assert";this.__parentClass__=this.__class__;this.groups=[];if("undefined"!==typeof e)this.addGroup(e);return this};i.prototype={construct:i,check:function(e,t){if(t&&!this.hasGroup(t))return;if(!t&&this.hasGroups())return;try{return this.validate(e,t)}catch(n){return n}},hasGroup:function(e){if(o(e))return this.hasOneOf(e);if("Any"===e)return true;if(!this.hasGroups())return"Default"===e;return-1!==this.groups.indexOf(e)},hasOneOf:function(e){for(var t=0;t<e.length;t++)if(this.hasGroup(e[t]))return true;return false},hasGroups:function(){return this.groups.length>0},addGroup:function(e){if(o(e))return this.addGroups(e);if(!this.hasGroup(e))this.groups.push(e);return this},removeGroup:function(e){var t=[];for(var n=0;n<this.groups.length;n++)if(e!==this.groups[n])t.push(this.groups[n]);this.groups=t;return this},addGroups:function(e){for(var t=0;t<e.length;t++)this.addGroup(e[t]);return this},HaveProperty:function(e){this.__class__="HaveProperty";this.node=e;this.validate=function(e){if("undefined"===typeof e[this.node])throw new r(this,e,{value:this.node});return true};return this},Blank:function(){this.__class__="Blank";this.validate=function(e){if("string"!==typeof e)throw new r(this,e,{value:t.errorCode.must_be_a_string});if(""!==e.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new r(this,e);return true};return this},Callback:function(e){this.__class__="Callback";this.arguments=Array.prototype.slice.call(arguments);if(1===this.arguments.length)this.arguments=[];else this.arguments.splice(0,1);if("function"!==typeof e)throw new Error("Callback must be instanciated with a function");this.fn=e;this.validate=function(e){var t=[e].concat(this.arguments);var n=this.fn.apply(this,t);if(true!==n)throw new r(this,e,{result:n});return true};return this},Choice:function(e){this.__class__="Choice";if(!o(e)&&"function"!==typeof e)throw new Error("Choice must be instanciated with an array or a function");this.list=e;this.validate=function(e){var t="function"===typeof this.list?this.list():this.list;for(var n=0;n<t.length;n++)if(e===t[n])return true;throw new r(this,e,{choices:t})};return this},Collection:function(e){this.__class__="Collection";this.constraint="undefined"!==typeof e?new n(e):false;this.validate=function(e,n){var i,u=new t,a=0,f={},l=this.groups.length?this.groups:n;if(!o(e))throw new r(this,array,{value:t.errorCode.must_be_an_array});for(var c=0;c<e.length;c++){i=this.constraint?u.validate(e[c],this.constraint,l):u.validate(e[c],l);if(!s(i))f[a]=i;a++}return!s(f)?f:true};return this},Count:function(e){this.__class__="Count";this.count=e;this.validate=function(e){if(!o(e))throw new r(this,e,{value:t.errorCode.must_be_an_array});var n="function"===typeof this.count?this.count(e):this.count;if(isNaN(Number(n)))throw new Error("Count must be a valid interger",n);if(n!==e.length)throw new r(this,e,{count:n});return true};return this},Email:function(){this.__class__="Email";this.validate=function(e){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!==typeof e)throw new r(this,e,{value:t.errorCode.must_be_a_string});if(!n.test(e))throw new r(this,e);return true};return this},Eql:function(e){this.__class__="Eql";if("undefined"===typeof e)throw new Error("Equal must be instanciated with an Array or an Object");this.eql=e;this.validate=function(e){var t="function"===typeof this.eql?this.eql(e):this.eql;if(!u.eql(t,e))throw new r(this,e,{eql:t});return true};return this},EqualTo:function(e){this.__class__="EqualTo";if("undefined"===typeof e)throw new Error("EqualTo must be instanciated with a value or a function");this.reference=e;this.validate=function(e){var t="function"===typeof this.reference?this.reference(e):this.reference;if(t!==e)throw new r(this,e,{value:t});return true};return this},GreaterThan:function(e){this.__class__="GreaterThan";if("undefined"===typeof e)throw new Error("Should give a threshold value");this.threshold=e;this.validate=function(e){if(""===e||isNaN(Number(e)))throw new r(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold>=e)throw new r(this,e,{threshold:this.threshold});return true};return this},GreaterThanOrEqual:function(e){this.__class__="GreaterThanOrEqual";if("undefined"===typeof e)throw new Error("Should give a threshold value");this.threshold=e;this.validate=function(e){if(""===e||isNaN(Number(e)))throw new r(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold>e)throw new r(this,e,{threshold:this.threshold});return true};return this},InstanceOf:function(e){this.__class__="InstanceOf";if("undefined"===typeof e)throw new Error("InstanceOf must be instanciated with a value");this.classRef=e;this.validate=function(e){if(true!==e instanceof this.classRef)throw new r(this,e,{classRef:this.classRef});return true};return this},IPv4:function(){this.__class__="IPv4";this.validate=function(e){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!==typeof e)throw new r(this,e,{value:t.errorCode.must_be_a_string});if(!n.test(e))throw new r(this,e);return true};return this},Length:function(e){this.__class__="Length";if(!e.min&&!e.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");this.min=e.min;this.max=e.max;this.validate=function(e){if("string"!==typeof e&&!o(e))throw new r(this,e,{value:t.errorCode.must_be_a_string_or_array});if("undefined"!==typeof this.min&&this.min===this.max&&e.length!==this.min)throw new r(this,e,{min:this.min,max:this.max});if("undefined"!==typeof this.max&&e.length>this.max)throw new r(this,e,{max:this.max});if("undefined"!==typeof this.min&&e.length<this.min)throw new r(this,e,{min:this.min});return true};return this},LessThan:function(e){this.__class__="LessThan";if("undefined"===typeof e)throw new Error("Should give a threshold value");this.threshold=e;this.validate=function(e){if(""===e||isNaN(Number(e)))throw new r(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold<=e)throw new r(this,e,{threshold:this.threshold});return true};return this},LessThanOrEqual:function(e){this.__class__="LessThanOrEqual";if("undefined"===typeof e)throw new Error("Should give a threshold value");this.threshold=e;this.validate=function(e){if(""===e||isNaN(Number(e)))throw new r(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold<e)throw new r(this,e,{threshold:this.threshold});return true};return this},Mac:function(){this.__class__="Mac";this.validate=function(e){var n=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!==typeof e)throw new r(this,e,{value:t.errorCode.must_be_a_string});if(!n.test(e))throw new r(this,e);return true};return this},NotNull:function(){this.__class__="NotNull";this.validate=function(e){if(null===e||"undefined"===typeof e)throw new r(this,e);return true};return this},NotBlank:function(){this.__class__="NotBlank";this.validate=function(e){if("string"!==typeof e)throw new r(this,e,{value:t.errorCode.must_be_a_string});if(""===e.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new r(this,e);return true};return this},Null:function(){this.__class__="Null";this.validate=function(e){if(null!==e)throw new r(this,e);return true};return this},Range:function(e,t){this.__class__="Range";if(!e||!t)throw new Error("Range assert expects min and max values");this.min=e;this.max=t;this.validate=function(e){try{if("string"===typeof e&&isNaN(Number(e))||o(e))(new i).Length({min:this.min,max:this.max}).validate(e);else(new i).GreaterThanOrEqual(this.min).validate(e)&&(new i).LessThanOrEqual(this.max).validate(e);return true}catch(t){throw new r(this,e,t.violation)}return true};return this},Regexp:function(e,n){this.__class__="Regexp";if("undefined"===typeof e)throw new Error("You must give a regexp");this.regexp=e;this.flag=n||"";this.validate=function(e){if("string"!==typeof e)throw new r(this,e,{value:t.errorCode.must_be_a_string});if(!(new RegExp(this.regexp)).test(e,this.flag))throw new r(this,e,{regexp:this.regexp,flag:this.flag});return true};return this},Required:function(){this.__class__="Required";this.validate=function(e){if("undefined"===typeof e)throw new r(this,e);if("string"===typeof e)try{(new i).NotNull().validate(e)&&(new i).NotBlank().validate(e)}catch(t){throw new r(this,e)}return true};return this},Unique:function(e){this.__class__="Unique";if("object"===typeof e)this.key=e.key;this.validate=function(e){var n,i=[];if(!o(e))throw new r(this,e,{value:t.errorCode.must_be_an_array});for(var s=0;s<e.length;s++){n="object"===typeof e[s]?e[s][this.key]:e[s];if("undefined"===typeof n)continue;if(-1!==i.indexOf(n))throw new r(this,e,{value:n});i.push(n)}return true};return this}};e.Assert=i;e.Validator=t;e.Violation=r;e.Constraint=n;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(e){if(this==null){throw new TypeError}var t=Object(this);var n=t.length>>>0;if(n===0){return-1}var r=0;if(arguments.length>1){r=Number(arguments[1]);if(r!=r){r=0}else if(r!=0&&r!=Infinity&&r!=-Infinity){r=(r>0||-1)*Math.floor(Math.abs(r))}}if(r>=n){return-1}var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++){if(i in t&&t[i]===e){return i}}return-1};var s=function(e){for(var t in e)return false;return true};var o=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var u={eql:function(e,t){if(e===t){return true}else if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)&&Buffer.isBuffer(t)){if(e.length!==t.length)return false;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return false;return true}else if(e instanceof Date&&t instanceof Date){return e.getTime()===t.getTime()}else if(typeof e!=="object"&&typeof t!=="object"){return e==t}else{return this.objEquiv(e,t)}},isUndefinedOrNull:function(e){return e===null||typeof e==="undefined"},isArguments:function(e){return Object.prototype.toString.call(e)=="[object Arguments]"},keys:function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t.push(n);return t},objEquiv:function(e,t){if(this.isUndefinedOrNull(e)||this.isUndefinedOrNull(t))return false;if(e.prototype!==t.prototype)return false;if(this.isArguments(e)){if(!this.isArguments(t))return false;return eql(pSlice.call(e),pSlice.call(t))}try{var n=this.keys(e),r=this.keys(t),i,s}catch(o){return false}if(n.length!==r.length)return false;n.sort();r.sort();for(s=n.length-1;s>=0;s--)if(n[s]!=r[s])return false;for(s=n.length-1;s>=0;s--){i=n[s];if(!this.eql(e[i],t[i]))return false}return true}};if("function"===typeof define&&define.amd){define("validator",[],function(){return e})}})("undefined"===typeof exports?this["undefined"!==typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var i=function(e,t){this.__class__="ParsleyValidator";this.Validator=Validator;this.locale="en";this.init(e||{},t||{})};i.prototype={init:function(t,n){this.catalog=n;for(var r in t)this.addValidator(r,t[r].fn,t[r].priority);e.emit("parsley:validator:init")},setLocale:function(e){if("undefined"===typeof this.catalog[e])throw new Error(e+" is not available in the catalog");this.locale=e;return this},addCatalog:function(e,t,n){if("object"===typeof t)this.catalog[e]=t;if(true===n)return this.setLocale(e);return this},addMessage:function(e,t,n){if(undefined===typeof this.catalog[e])this.catalog[e]={};this.catalog[e][t.toLowerCase()]=n;return this},validate:function(e,t,n){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(t,n,r){this.validators[t.toLowerCase()]=function(t){return e.extend((new Validator.Assert).Callback(n,t),{priority:r})};return this},updateValidator:function(e,t,n){return addValidator(e,t,n)},removeValidator:function(e){delete this.validators[e];return this},getErrorMessage:function(e){var t;if("type"===e.name)t=this.catalog[this.locale][e.name][e.requirements];else t=this.formatMesssage(this.catalog[this.locale][e.name],e.requirements);return""!==t?t:this.catalog[this.locale].defaultMessage},formatMesssage:function(e,t){if("object"===typeof t){for(var n in t)e=this.formatMesssage(e,t[n]);return e}return"string"===typeof e?e.replace(new RegExp("%s","i"),t):""},validators:{notblank:function(){return e.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return e.extend((new Validator.Assert).Required(),{priority:512})},type:function(t){var n;switch(t){case"email":n=(new Validator.Assert).Email();break;case"number":n=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":n=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":n=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":n=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":n=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+t+"` is not supported")}return e.extend(n,{priority:256})},pattern:function(t){var n="";if(!!/^\/.*\/(?:[gimy]*)$/.test(t)){n=t.replace(/.*\/([gimy]*)$/,"$1");t=t.replace(new RegExp("^/(.*?)/"+n+"$"),"$1")}return e.extend((new Validator.Assert).Regexp(t,n),{priority:64})},minlength:function(t){return e.extend((new Validator.Assert).Length({min:t}),{priority:30,requirementsTransformer:function(){return"string"===typeof t&&!isNaN(t)?parseInt(t,10):t}})},maxlength:function(t){return e.extend((new Validator.Assert).Length({max:t}),{priority:30,requirementsTransformer:function(){return"string"===typeof t&&!isNaN(t)?parseInt(t,10):t}})},length:function(t){return e.extend((new Validator.Assert).Length({min:t[0],max:t[1]}),{priority:32})},mincheck:function(e){return this.minlength(e)},maxcheck:function(e){return this.maxlength(e)},check:function(e){return this.length(e)},min:function(t){return e.extend((new Validator.Assert).GreaterThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"===typeof t&&!isNaN(t)?parseInt(t,10):t}})},max:function(t){return e.extend((new Validator.Assert).LessThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"===typeof t&&!isNaN(t)?parseInt(t,10):t}})},range:function(t){return e.extend((new Validator.Assert).Range(t[0],t[1]),{priority:32,requirementsTransformer:function(){for(var e=0;e<t.length;e++)t[e]="string"===typeof t[e]&&!isNaN(t[e])?parseInt(t[e],10):t[e];return t}})},equalto:function(t){return e.extend((new Validator.Assert).EqualTo(t),{priority:256,requirementsTransformer:function(){return e(t).length?e(t).val():t}})}}};var s=function(e){this.__class__="ParsleyUI"};s.prototype={listen:function(){e.listen("parsley:form:init",this,this.setupForm);e.listen("parsley:field:init",this,this.setupField);e.listen("parsley:field:validated",this,this.reflow);e.listen("parsley:form:validated",this,this.focus);e.listen("parsley:field:reset",this,this.reset);e.listen("parsley:form:destroy",this,this.destroy);e.listen("parsley:field:destroy",this,this.destroy);return this},reflow:function(e){if("undefined"===typeof e._ui||false===e._ui.active)return;var t=this._diff(e.validationResult,e._ui.lastValidationResult);e._ui.lastValidationResult=e.validationResult;e._ui.validatedOnce=true;this.manageStatusClass(e);this.manageErrorsMessages(e,t);this.actualizeTriggers(e);if((t.kept.length||t.added.length)&&"undefined"===typeof e._ui.failedOnce)this.manageFailingFieldTrigger(e)},manageStatusClass:function(e){if(true===e.validationResult)this._successClass(e);else if(e.validationResult.length>0)this._errorClass(e);else this._resetClass(e)},manageErrorsMessages:function(t,n){if("undefined"!==typeof t.options.errorsMessagesDisabled)return;if("undefined"!==typeof t.options.errorMessage){if(n.added.length||n.kept.length){if(0===t._ui.$errorsWrapper.find(".parsley-custom-error-message").length)t._ui.$errorsWrapper.append(e(t.options.errorTemplate).addClass("parsley-custom-error-message"));t._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(t.options.errorMessage)}else{t._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove()}return}for(var r=0;r<n.removed.length;r++)this.removeError(t,n.removed[r].assert.name,true);for(r=0;r<n.added.length;r++)this.addError(t,n.added[r].assert.name,undefined,n.added[r].assert,true);for(r=0;r<n.kept.length;r++)this.updateError(t,n.kept[r].assert.name,undefined,n.kept[r].assert,true)},addError:function(t,n,r,i,s){t._ui.$errorsWrapper.addClass("filled").append(e(t.options.errorTemplate).addClass("parsley-"+n).html(r||this._getErrorMessage(t,i)));if(true!==s)this._errorClass(t)},updateError:function(e,t,n,r,i){e._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(n||this._getErrorMessage(e,r));if(true!==i)this._errorClass(e)},removeError:function(e,t,n){e._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+t).remove();if(true!==n)this.manageStatusClass(e)},focus:function(e){if(true===e.validationResult||"none"===e.options.focus)return e._focusedField=null;e._focusedField=null;for(var t=0;t<e.fields.length;t++)if(true!==e.fields[t].validationResult&&e.fields[t].validationResult.length>0&&"undefined"===typeof e.fields[t].options.noFocus){if("first"===e.options.focus){e._focusedField=e.fields[t].$element;return e._focusedField.focus()}e._focusedField=e.fields[t].$element}if(null===e._focusedField)return null;return e._focusedField.focus()},_getErrorMessage:function(e,t){var n=t.name+"Message";if("undefined"!==typeof e.options[n])return e.options[n];return window.ParsleyValidator.getErrorMessage(t)},_diff:function(e,t,n){var r=[],i=[];for(var s=0;s<e.length;s++){var o=false;for(var u=0;u<t.length;u++)if(e[s].assert.name===t[u].assert.name){o=true;break}if(o)i.push(e[s]);else r.push(e[s])}return{kept:i,added:r,removed:!n?this._diff(t,e,true).added:[]}},setupForm:function(t){t.$element.on("submit.Parsley",false,e.proxy(t.onSubmitValidate,t));if(false===t.options.uiEnabled)return;t.$element.attr("novalidate","")},setupField:function(t){var n={active:false};if(false===t.options.uiEnabled)return;n.active=true;t.$element.attr(t.options.namespace+"id",t.__id__);n.$errorClassHandler=this._manageClassHandler(t);n.errorsWrapperId="parsley-id-"+("undefined"!==typeof t.options.multiple?"multiple-"+t.options.multiple:t.__id__);n.$errorsWrapper=e(t.options.errorsWrapper).attr("id",n.errorsWrapperId);n.lastValidationResult=[];n.validatedOnce=false;n.validationInformationVisible=false;t._ui=n;this._insertErrorWrapper(t);this.actualizeTriggers(t)},_manageClassHandler:function(t){if("string"===typeof t.options.classHandler&&e(t.options.classHandler).length)return e(t.options.classHandler);var n=t.options.classHandler(t);if("undefined"!==typeof n&&n.length)return n;if("undefined"===typeof t.options.multiple||t.$element.is("select"))return t.$element;return t.$element.parent()},_insertErrorWrapper:function(t){var n;if("string"===typeof t.options.errorsContainer)if(e(t.options.errorsContainer+"").length)return e(t.options.errorsContainer).append(t._ui.$errorsWrapper);else if(window.console&&window.console.warn)window.console.warn("The errors container `"+t.options.errorsContainer+"` does not exist in DOM");if("function"===typeof t.options.errorsContainer)n=t.options.errorsContainer(t);if("undefined"!==typeof n&&n.length)return n.append(t._ui.$errorsWrapper);return"undefined"===typeof t.options.multiple?t.$element.after(t._ui.$errorsWrapper):t.$element.parent().after(t._ui.$errorsWrapper)},actualizeTriggers:function(t){var n=this;if(t.options.multiple)e("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){e(this).off(".Parsley")});else t.$element.off(".Parsley");if(false===t.options.trigger)return;var r=t.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");if(""===r)return;if(t.options.multiple)e("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){e(this).on(r.split(" ").join(".Parsley ")+".Parsley",false,e.proxy("function"===typeof t.eventValidate?t.eventValidate:n.eventValidate,t))});else t.$element.on(r.split(" ").join(".Parsley ")+".Parsley",false,e.proxy("function"===typeof t.eventValidate?t.eventValidate:this.eventValidate,t))},eventValidate:function(e){if((new RegExp("key")).test(e.type))if(!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold)return;this._ui.validatedOnce=true;this.validate()},manageFailingFieldTrigger:function(t){t._ui.failedOnce=true;if(t.options.multiple)e("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){if(!(new RegExp("change","i")).test(e(this).parsley().options.trigger||""))return e(this).on("change.ParsleyFailedOnce",false,e.proxy(t.validate,t))});if(t.$element.is("select"))if(!(new RegExp("change","i")).test(t.options.trigger||""))return t.$element.on("change.ParsleyFailedOnce",false,e.proxy(t.validate,t));if(!(new RegExp("keyup","i")).test(t.options.trigger||""))return t.$element.on("keyup.ParsleyFailedOnce",false,e.proxy(t.validate,t))},reset:function(t){if("undefined"===typeof t._ui)return;t.$element.off(".Parsley");t.$element.off(".ParsleyFailedOnce");if("ParsleyForm"===t.__class__)return;t._ui.$errorsWrapper.children().each(function(){e(this).remove()});this._resetClass(t);t._ui.validatedOnce=false;t._ui.lastValidationResult=[];t._ui.validationInformationVisible=false},destroy:function(e){if("undefined"===typeof e._ui)return;this.reset(e);if("ParsleyForm"===e.__class__)return;e._ui.$errorsWrapper.remove();delete e._ui},_successClass:function(e){e._ui.validationInformationVisible=true;e._ui.$errorClassHandler.removeClass(e.options.errorClass).addClass(e.options.successClass)},_errorClass:function(e){e._ui.validationInformationVisible=true;e._ui.$errorClassHandler.removeClass(e.options.successClass).addClass(e.options.errorClass)},_resetClass:function(e){e._ui.$errorClassHandler.removeClass(e.options.successClass).removeClass(e.options.errorClass)}};var o=function(n,r,i,s){this.__class__="OptionsFactory";this.__id__=t.hash(4);this.formOptions=null;this.fieldOptions=null;this.staticOptions=e.extend(true,{},n,r,i,{namespace:s})};o.prototype={get:function(e){if("undefined"===typeof e.__class__)throw new Error("Parsley Instance expected");switch(e.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(e);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(e);default:throw new Error("Instance "+e.__class__+" is not supported")}},getFormOptions:function(n){this.formOptions=t.attr(n.$element,this.staticOptions.namespace);return e.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(n){this.fieldOptions=t.attr(n.$element,this.staticOptions.namespace);if(null===this.formOptions&&"ParsleyForm"===n.parsleyInstance.__proxy__)this.formOptions=getFormOptions(n.parsleyInstance);return e.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var u=function(n,r){this.__class__="ParsleyForm";this.__id__=t.hash(4);if("Parsley"!==t.get(r,"__class__"))throw new Error("You must give a Parsley instance");this.parsleyInstance=r;this.$element=e(n)};u.prototype={init:function(){this.validationResult=null;this.options=this.parsleyInstance.OptionsFactory.get(this);this._bindFields();return this},onSubmitValidate:function(t){this.validate(undefined,undefined,t);if(false===this.validationResult&&t instanceof e.Event){t.stopImmediatePropagation();t.preventDefault()}return this},validate:function(t,n,r){this.submitEvent=r;this.validationResult=true;var i=[];this._refreshFields();e.emit("parsley:form:validate",this);for(var s=0;s<this.fields.length;s++){if(t&&t!==this.fields[s].options.group)continue;i=this.fields[s].validate(n);if(true!==i&&i.length>0&&this.validationResult)this.validationResult=false}e.emit("parsley:form:validated",this);return this.validationResult},isValid:function(e,t){this._refreshFields();for(var n=0;n<this.fields.length;n++){if(e&&e!==this.fields[n].options.group)continue;if(false===this.fields[n].isValid(t))return false}return true},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this;this.fields=[];this.fieldsMappedById={};this.$element.find(this.options.inputs).each(function(){var t=new window.Parsley(this,{},e.parsleyInstance);if(("ParsleyField"===t.__class__||"ParsleyFieldMultiple"===t.__class__)&&!t.$element.is(t.options.excluded))if("undefined"===typeof e.fieldsMappedById[t.__class__+"-"+t.__id__]){e.fieldsMappedById[t.__class__+"-"+t.__id__]=t;e.fields.push(t)}});return this}};var a=function(n,r,i,s,o){if(!(new RegExp("ParsleyField")).test(t.get(n,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!==typeof window.ParsleyValidator.validators[r]&&"Assert"!==window.ParsleyValidator.validators[r](i).__parentClass__)throw new Error("Valid validator expected");var u=function(e,n){if("undefined"!==typeof e.options[n+"Priority"])return e.options[n+"Priority"];return t.get(window.ParsleyValidator.validators[n](i),"priority")||2};s=s||u(n,r);if("function"===typeof window.ParsleyValidator.validators[r](i).requirementsTransformer)i=window.ParsleyValidator.validators[r](i).requirementsTransformer();return e.extend(window.ParsleyValidator.validators[r](i),{name:r,requirements:i,priority:s,groups:[s],isDomConstraint:o||t.attr(n.$element,n.options.namespace,r)})};var f=function(n,r){this.__class__="ParsleyField";this.__id__=t.hash(4);if("Parsley"!==t.get(r,"__class__"))throw new Error("You must give a Parsley instance");this.parsleyInstance=r;this.$element=e(n);this.options=this.parsleyInstance.OptionsFactory.get(this)};f.prototype={init:function(){this.constraints=[];this.constraintsByName={};this.validationResult=[];this.bindConstraints();return this},validate:function(t){this.value=this.getValue();e.emit("parsley:field:validate",this);e.emit("parsley:field:"+(this.isValid(t,this.value)?"success":"error"),this);e.emit("parsley:field:validated",this);return this.validationResult},getConstraintsSortedPriorities:function(){var e=[];for(var t=0;t<this.constraints.length;t++)if(-1===e.indexOf(this.constraints[t].priority))e.push(this.constraints[t].priority);e.sort(function(e,t){return t-e});return e},isValid:function(e,t){this.refreshConstraints();var n=this.getConstraintsSortedPriorities();t=t||this.getValue();if(0===t.length&&!this.isRequired()&&"undefined"===typeof this.options.validateIfEmpty&&true!==e)return this.validationResult=[];if(false===this.options.priorityEnabled)return true===(this.validationResult=this.validateThroughValidator(t,this.constraints,"Any"));for(var r=0;r<n.length;r++)if(true!==(this.validationResult=this.validateThroughValidator(t,this.constraints,n[r])))return false;return true},isRequired:function(){if("undefined"===typeof this.constraintsByName.required)return false;return false!==this.constraintsByName.required.requirements},getValue:function(){var e;if("undefined"!==typeof this.options.value)e=this.options.value;else e=this.$element.val();if(true===this.options.trimValue)return e.replace(/^\s+|\s+$/g,"");return e},refreshConstraints:function(){this.actualizeOptions().bindConstraints();return this},bindConstraints:function(){var e=[];for(var t=0;t<this.constraints.length;t++)if(false===this.constraints[t].isDomConstraint)e.push(this.constraints[t]);this.constraints=e;for(var n in this.options)this.addConstraint(n,this.options[n]);return this.bindHtml5Constraints()},bindHtml5Constraints:function(){if(this.$element.hasClass("required")||this.$element.attr("required"))this.addConstraint("required",true,undefined,true);if("string"===typeof this.$element.attr("pattern"))this.addConstraint("pattern",this.$element.attr("pattern"),undefined,true);if("undefined"!==typeof this.$element.attr("min")&&"undefined"!==typeof this.$element.attr("max"))this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],undefined,true);else if("undefined"!==typeof this.$element.attr("min"))this.addConstraint("min",this.$element.attr("min"),undefined,true);else if("undefined"!==typeof this.$element.attr("max"))this.addConstraint("max",this.$element.attr("max"),undefined,true);var e=this.$element.attr("type");if("undefined"===typeof e)return this;if("number"===e)return this.addConstraint("type","integer",undefined,true);else if((new RegExp(e,"i")).test("email url range"))return this.addConstraint("type",e,undefined,true)},addConstraint:function(e,t,n,r){e=e.toLowerCase();if("function"===typeof window.ParsleyValidator.validators[e]){var i=new a(this,e,t,n,r);if("undefined"!==this.constraintsByName[i.name])this.removeConstraint(i.name);this.constraints.push(i);this.constraintsByName[i.name]=i}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return this},updateConstraint:function(e,t,n){return this.removeConstraint(e).addConstraint(e,t,n)}};var l=function(){this.__class__="ParsleyFieldMultiple"};l.prototype={init:function(e){this.$elements=[this.$element];this.options.multiple=e;return this},addElement:function(e){this.$elements.push(e);return this},refreshConstraints:function(){var e;this.constraints=[];if(this.$element.is("select")){this.actualizeOptions().bindConstraints();return this}for(var t=0;t<this.$elements.length;t++){e=this.$elements[t].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<e.length;n++)this.addConstraint(e[n].name,e[n].requirements,e[n].priority,e[n].isDomConstraint)}return this},getValue:function(){if("undefined"!==typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return e("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var t=[];e("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){t.push(e(this).val())});return t.length?t:[]}if(this.$element.is("select"))return null===this.$element.val()?[]:this.$element.val()}};var c=e({}),h={};e.listen=function(e){if("undefined"===typeof h[e])h[e]=[];if("function"===typeof arguments[1])return h[e].push({fn:arguments[1]});if("object"===typeof arguments[1]&&"function"===typeof arguments[2])return h[e].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")};e.listenTo=function(e,t,n){if("undefined"===typeof h[t])h[t]=[];if(!(e instanceof f)&&!(e instanceof u))throw new Error("Must give Parsley instance");if("string"!==typeof t||"function"!==typeof n)throw new Error("Wrong parameters");h[t].push({instance:e,fn:n})};e.unsubscribe=function(e,t){if("undefined"===typeof h[e])return;if("string"!==typeof e||"function"!==typeof t)throw new Error("Wrong arguments");for(var n=0;n<h[e].length;n++)if(h[e][n].fn===t)return h[e].splice(n,1)};e.unsubscribeTo=function(e,t){if("undefined"===typeof h[t])return;if(!(e instanceof f)&&!(e instanceof u))throw new Error("Must give Parsley instance");for(var n=0;n<h[t].length;n++)if("undefined"!==typeof h[t][n].instance&&h[t][n].instance.__id__===e.__id__)return h[t].splice(n,1)};e.unsubscribeAll=function(e){if("undefined"===typeof h[e])return;delete h[e]};e.emit=function(e,t){if("undefined"===typeof h[e])return;for(var n=0;n<h[e].length;n++){if("undefined"===typeof h[e][n].instance){h[e][n].fn.apply("undefined"!==typeof h[e][n].ctxt?h[e][n].ctxt:c,Array.prototype.slice.call(arguments,1));continue}if(!(t instanceof f)&&!(t instanceof u))continue;if(h[e][n].instance.__id__===t.__id__){h[e][n].fn.apply(c,Array.prototype.slice.call(arguments,1));continue}if(h[e][n].instance instanceof u&&t instanceof f)for(var r=0;r<h[e][n].instance.fields.length;r++)if(h[e][n].instance.fields[r].__id__===t.__id__){h[e][n].fn.apply(c,Array.prototype.slice.call(arguments,1));continue}}};e.subscribed=function(){return h};window.ParsleyConfig=window.ParsleyConfig||{};window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{};window.ParsleyConfig.i18n.en=e.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."});if("undefined"!==typeof window.ParsleyValidator)window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,true);var p=function(n,r,i){this.__class__="Parsley";this.__version__="2.0.0-rc5";this.__id__=t.hash(4);if("undefined"===typeof n)throw new Error("You must give an element");return this.init(e(n),r,i)};p.prototype={init:function(e,r,i){if(!e.length)throw new Error("You must bind Parsley on an existing element.");this.$element=e;if(this.$element.data("Parsley")){var s=this.$element.data("Parsley");if("undefined"!==typeof i&&"ParsleyField"===s.parsleyInstance.__proxy__)s.parsleyInstance=i;return s}this.OptionsFactory=new o(n,t.get(window,"ParsleyConfig")||{},r,this.getNamespace(r));this.options=this.OptionsFactory.get(this);if(this.$element.is("form")||t.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs))return this.bind("parsleyForm",i);else if(this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded))return this.isMultiple()?this.handleMultiple(i):this.bind("parsleyField",i);return this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"===typeof this.options.multiple||this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple")},handleMultiple:function(n){var r=this,i,s,o;this.options=e.extend(this.options,t.attr(this.$element,this.options.namespace));if(this.options.multiple){s=this.options.multiple}else if("undefined"!==typeof this.$element.attr("name")&&this.$element.attr("name").length){s=i=this.$element.attr("name")}else if("undefined"!==typeof this.$element.attr("id")&&this.$element.attr("id").length){s=this.$element.attr("id")}if(this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple")){return this.bind("parsleyFieldMultiple",n,s||this.__id__)}else if("undefined"===typeof s){if(window.console&&window.console.warn)window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element);return this}s=s.replace(/(:|\.|\[|\]|\$)/g,"");if("undefined"!==typeof i)e('input[name="'+i+'"]').each(function(){if(e(this).is("input[type=radio], input[type=checkbox]"))e(this).attr(r.options.namespace+"multiple",s)});if(e("["+this.options.namespace+"multiple="+s+"]").length)for(var u=0;u<e("["+this.options.namespace+"multiple="+s+"]").length;u++)if("undefined"!==typeof e(e("["+this.options.namespace+"multiple="+s+"]").get(u)).data("Parsley")){o=e(e("["+this.options.namespace+"multiple="+s+"]").get(u)).data("Parsley");if(!this.$element.data("ParsleyFieldMultiple")){o.addElement(this.$element);this.$element.attr(this.options.namespace+"id",o.__id__)}break}this.bind("parsleyField",n,s,true);return o||this.bind("parsleyFieldMultiple",n,s)},getNamespace:function(e){if("undefined"!==typeof this.$element.data("parsleyNamespace"))return this.$element.data("parsleyNamespace");if("undefined"!==typeof t.get(e,"namespace"))return e.namespace;if("undefined"!==typeof t.get(window,"ParsleyConfig.namespace"))return window.ParsleyConfig.namespace;return n.namespace},bind:function(n,i,s,o){var a;switch(n){case"parsleyForm":a=e.extend(new u(this.$element,i||this),new r,window.ParsleyExtend).init();break;case"parsleyField":a=e.extend(new f(this.$element,i||this),new r,window.ParsleyExtend).init();break;case"parsleyFieldMultiple":a=e.extend((new f(this.$element,i||this)).init(),new r,new l,window.ParsleyExtend).init(s);break;default:throw new Error(n+"is not a supported Parsley type")}if("undefined"!==typeof s)t.setAttr(this.$element,this.options.namespace,"multiple",s);if("undefined"!==typeof o){this.$element.data("ParsleyFieldMultiple",a);return a}if((new RegExp("ParsleyF","i")).test(a.__class__)){this.$element.data("Parsley",a);this.__proxy__=a.__class__;e.emit("parsley:"+("parsleyForm"===n?"form":"field")+":init",a)}return a}};e.fn.parsley=e.fn.psly=function(t){if(this.length>1){var n=[];this.each(function(){n.push(e(this).parsley(t))});return n}if(!e(this).length){if(window.console&&window.console.warn)window.console.warn("You must bind Parsley on an existing element.");return}return new p(this,t)};window.ParsleyUI="function"===typeof t.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new s).listen();if("undefined"===typeof window.ParsleyExtend)window.ParsleyExtend={};if("undefined"===typeof window.ParsleyConfig)window.ParsleyConfig={};window.Parsley=window.psly=p;window.ParsleyUtils=t;window.ParsleyValidator=new i(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);if(false!==t.get(window,"ParsleyConfig.autoBind"))e(document).ready(function(){if(e("[data-parsley-validate]").length)e("[data-parsley-validate]").parsley()})}(window.jQuery);(function(e){if(!Modernizr.svg){$("img[src$='.svg']").each(function(){var e=$(this),t=e.attr("data-fallback");e.attr("src",t)})}$(".nav-toggle-menu").click(function(){$(this).toggleClass("active");$(".nav").toggleClass("active");$(".header .search-form").removeClass("active");$(".nav-toggle-search").removeClass("active");return false});$(".nav-toggle-search").click(function(e){e.preventDefault();$(this).toggleClass("active");$(".header .search-form").toggleClass("active");$(".nav").removeClass("active");$(".nav-toggle-menu").removeClass("active");if($(".header .search-form").hasClass("active")){$(".header .search-field").focus()}});$("body").on("click",function(){$(".nav-subnav-link, .nav-subnav").removeClass("active")});$(".menu-item-has-children > a").append('<span class="icon-arrow-down5"></span>');$(".menu-item-has-children > a").on("click",function(){var e=$(this),t=e.next(".sub-menu");$(".menu-item-has-children > a").not(e).removeClass("active");$(".sub-menu").not(t).removeClass("active");e.toggleClass("active");t.toggleClass("active");return false});if($("body").hasClass("tribe-events-page-template")||$("body").hasClass("page-template-single-job-php")){$("#menu-item-172").removeClass("current_page_parent")}$(".acc-handle a").on("click",function(){if(window.matchMedia("(max-width: 46.8em)").matches){$(this).parent().toggleClass("active");$(this).parent().next(".acc-panel").toggleClass("active");return false}});$(".acc-handle").on("click",function(){if(window.matchMedia("(max-width: 46.8em)").matches){$(this).toggleClass("active");$(this).next(".acc-panel").toggleClass("active");return false}});if(window.screen.width>460){$("h1, .page-title, .page-intro, .b-title, .b-excerpt").each(function(){$(this).html($(this).html().replace(/\s([^\s<]+)\s*$/,"&nbsp;$1"))})}$(".text").fitVids();$(".block-recipe").hover(function(){$(this).find(".btn").addClass("active")},function(){$(this).find(".btn").removeClass("active")})})(this);(function(e){function i(){$("#donate-step-"+n).removeClass("closed")}function s(e){if(e=="monthly"){var t=$("input[name=form_id]").attr("data-monthly-id");$(".chicklet-list input:radio").each(function(){$(this).attr("value",$(this).attr("data-monthly-value"))})}else{var t=r;$(".chicklet-list input:radio").each(function(){$(this).attr("value",$(this).attr("data-onetime-value"))})}$("input[name=form_id]").attr("value",t)}function o(e){var t=e;$("html,body").animate({scrollTop:t.offset().top},1e3);return false}function u(e){if(parseFloat(e)==parseInt(e)&&!isNaN(e)){return true}else{return false}}var t=$(".donate-form"),n=1,r=$("input[name=form_id]").attr("value");$(".donate-step").not("#donate-step-1").addClass("closed");$(".donate-submit-text").text("Next Step");$(".donate-submit").on("click",function(e){e.preventDefault();if(n===1){n++;i();$("#donate-name").focus();o($("#donate-step-2"));if(t.requestAutocomplete){t.requestAutocomplete()}else{return}}else if(n===2){n++;i();$("#payment-cc-num").focus();$(".donate-submit-text").text("Complete Donation");o($("#donate-step-3"))}else if(n===3){$("#donate-form").submit()}});$(".donate-form input").focusout(function(){$(this).parsley().validate()});$(".donate-form").parsley();$("#donate-name").focusout(function(){var e=$(this).val().split(" "),t=e.shift(),n=e.join(" ");$("#billing-first-name").val(t);$("#billing-last-name").val(n)});$(".amount-container").hide();$(".chicklet-list label, .chicklet-list .input-container").hover(function(){var e=$(this),t=e.attr("data-message"),n=$("#donate-step-1 .donate-step-message");n.text(t)},function(){var e=$(".chicklet-list input:checked").next("label").attr("data-message"),t=$("#donate-step-1 .donate-step-message");if($("#other-amount").val()!==""){t.text()}else{t.text(e)}});$(".chicklet-list input:radio").change(function(){var e=$(this),t=e.next("label").attr("data-message"),n=e.next("label").attr("data-amount"),r=$("#donate-step-1 .donate-step-message");$("#other-amount").val("");$("#donation-amount").val(n);r.text(t);$("#donate-amount-other").prop("checked",false)});$("#other-amount").focus(function(){$(".chicklet-list input").prop("checked",false);$("#donate-amount-other").attr("checked","checked")});$("#other-amount").blur(function(){$thisAmount=$(this).val();if($thisAmount!==""){$("#donation-amount").val($thisAmount);$("#donate-amount-other").attr("checked","checked")}else{$("#donate-amount-other").prop("checked",false)}});$("#donate-monthly").change(function(){if($(this).is(":checked")){s("monthly")}else{s("one-time")}});$("#payment-type-radio").change(function(){var e=$(this).find("input:checked").attr("data-payment-type");$(".payment-type").removeClass("active");$("#"+e).addClass("active")});$("#donate-zip").keyup(function(){var e=$(this);if(e.val().length==5&&u(e.val())){$.ajax({url:"http://zip.elevenbasetwo.com/v2",cache:false,dataType:"json",type:"GET",data:"zip="+e.val(),success:function(e,t){$(".field-container-city, .field-container-state").removeClass("is-vishidden");$("#donate-city").val(e.city).parsley();$("#donate-state").val(e.state).parsley();$(".zip-error").hide();$(".donate-submit").focus()},error:function(e,t){$(".field-container-city, .field-container-state").removeClass("is-vishidden")}})}})})(this)